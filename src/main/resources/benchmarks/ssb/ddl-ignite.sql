DROP TABLE IF EXISTS CUSTOMER;
DROP TABLE IF EXISTS LINEORDER;
DROP TABLE IF EXISTS SUPPLIER;
DROP TABLE IF EXISTS PART;
DROP TABLE IF EXISTS DATE;

------------------
-- Date Table
------------------
CREATE TABLE DATE
(
    D_DATEKEY         INTEGER    NOT NULL, -- DATE FK
    D_DATE            CHAR(18)    NOT NULL,
    D_DAYOFWEEK       CHAR(9)     NOT NULL, -- CHANGED from spec to 9 for "Wednesday"
    D_MONTH           CHAR(9)     NOT NULL,
    D_YEAR            INTEGER     NOT NULL,
    D_YEARMONTHNUM    INTEGER     NOT NULL,
    D_YEARMONTH       CHAR(7)     NOT NULL,
    D_DAYNUMINWEEK    INTEGER     NOT NULL,
    D_DAYNUMINMONTH   INTEGER     NOT NULL,
    D_DAYNUMINYEAR    INTEGER     NOT NULL,
    D_MONTHNUMINYEAR  INTEGER     NOT NULL,
    D_WEEKNUMINYEAR   INTEGER     NOT NULL,
    D_SELLINGSEASON   VARCHAR(12) NOT NULL,
    D_LASTDAYINWEEKFL SMALLINT NOT NULL,
    D_LASTDAYINMONTHFL SMALLINT NOT NULL,
    D_HOLIDAYFL SMALLINT NOT NULL,
    D_WEEKDAYFL SMALLINT NOT NULL,
    PRIMARY KEY (D_DATEKEY)
) WITH "template=TPCH";
-- CREATE INDEX n_rk ON nation (n_regionkey ASC);

------------------
-- PART Table
------------------
CREATE TABLE PART
(
    P_PARTKEY   INTEGER     NOT NULL,
    P_NAME      VARCHAR(22) NOT NULL,
    P_MFGR      CHAR(6)     NOT NULL,
    P_CATEGORY  CHAR(7)     NOT NULL,
    P_BRAND1    CHAR(9)     NOT NULL,
    P_COLOR     CHAR(11)    NOT NULL,
    P_TYPE      VARCHAR(25) NOT NULL,
    P_SIZE      INTEGER     NOT NULL,
    P_CONTAINER CHAR(10)    NOT NULL,
    PRIMARY KEY (P_PARTKEY)
) WITH "template=TPCH";

-- CREATE INDEX

------------------
-- SUPPLIER Table
------------------
CREATE TABLE SUPPLIER
(
    S_SUPPKEY INTEGER     NOT NULL,
    S_NAME    CHAR(25)    NOT NULL,
    S_ADDRESS VARCHAR(25) NOT NULL,
    S_CITY    CHAR(10)    NOT NULL,
    S_NATION  CHAR(15)    NOT NULL,
    S_REGION  CHAR(12)    NOT NULL,
    S_PHONE   CHAR(15)    NOT NULL,
    PRIMARY KEY (S_SUPPKEY)
) WITH "template=TPCH";
-- CREATE INDEX s_nk ON supplier (s_nationkey ASC);

------------------
-- CUSTOMER Table
------------------
CREATE TABLE CUSTOMER
(
    C_CUSTKEY    INTEGER     NOT NULL,
    C_NAME       VARCHAR(25) NOT NULL,
    C_ADDRESS    VARCHAR(25) NOT NULL,
    C_CITY       CHAR(10)    NOT NULL,
    C_NATION     CHAR(15)    NOT NULL,
    C_REGION     CHAR(12)    NOT NULL,
    C_PHONE      CHAR(15)    NOT NULL,
    C_MKTSEGMENT CHAR(10)    NOT NULL,
    PRIMARY KEY (C_CUSTKEY)
) WITH "template=TPCH";
-- CREATE INDEX c_nk ON customer (c_nationkey ASC);

------------------
-- LINEORDER Table
------------------
CREATE TABLE LINEORDER
(
    LO_ORDERKEY      INTEGER  NOT NULL,
    LO_LINENUMBER    INTEGER  NOT NULL,
    LO_CUSTKEY       INTEGER  NOT NULL,
    LO_PARTKEY       INTEGER  NOT NULL,
    LO_SUPPKEY       INTEGER  NOT NULL,
    LO_ORDERDATE     INTEGER NOT NULL, -- DATE FK
    LO_ORDERPRIORITY CHAR(15) NOT NULL,
    LO_SHIPPRIORITY  CHAR(1)  NOT NULL,
    LO_QUANTITY      INTEGER  NOT NULL,
    LO_EXTENDEDPRICE INTEGER  NOT NULL,
    LO_ORDTOTALPRICE INTEGER  NOT NULL,
    LO_DISCOUNT      INTEGER  NOT NULL,
    LO_REVENUE       INTEGER  NOT NULL,
    LO_SUPPLYCOST    INTEGER  NOT NULL,
    LO_TAX           INTEGER  NOT NULL,
    LO_COMMITDATE    INTEGER NOT NULL, -- DATE FK
    LO_SHIPMODE      CHAR(10) NOT NULL,
    PRIMARY KEY (lo_orderkey, lo_linenumber)
) WITH "template=TPCH";

-- CREATE INDEX l_ok ON lineitem (LO_ORDERKEY ASC);
-- CREATE INDEX l_pk ON lineitem (LO_PARTKEY ASC);
-- CREATE INDEX l_sk ON lineitem (LO_SUPPKEY ASC);
-- CREATE INDEX l_cd ON lineitem (LO_COMMITDATE ASC);
-- CREATE INDEX l_pk_sk ON lineitem (LO_PARTKEY ASC, LO_SUPPKEY ASC);
